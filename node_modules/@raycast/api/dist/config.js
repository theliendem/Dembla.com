"use strict";var A=Object.create;var o=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})},g=(e,t,n,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of I(t))!T.call(e,s)&&s!==n&&o(e,s,{get:()=>t[s],enumerable:!(p=N(t,s))||p.enumerable});return e};var c=(e,t,n)=>(n=e!=null?A(k(e)):{},g(t||!e||!e.__esModule?o(n,"default",{value:e,enumerable:!0}):n,e)),D=e=>g(o({},"__esModule",{value:!0}),e);var L={};C(L,{API_ENV:()=>d,extensionBuildDirectory:()=>w,getConfig:()=>b,initConfig:()=>S,raycastAppScheme:()=>R,raycastBundleID:()=>v,raycastConfigDirectory:()=>l,setConfig:()=>U});module.exports=D(L);var a=c(require("node:fs")),i=c(require("node:path")),x=c(require("node:os"));var m=c(require("node:path")),h=c(require("node:fs"));function y(){let e;try{e=m.resolve("package.json")}catch(n){throw new Error(`cannot resolve package manifest path: ${n}`)}let t;try{t=JSON.parse(h.readFileSync(e,"utf8"))}catch(n){throw new Error(`cannot read package manifest: ${n}`)}return t.name=t.name.replace(/^@workaround/g,""),t}var d={production:{url:"https://www.raycast.com",clientID:"KqAdcGhNfBKiUpfjD3nU3VNgh1t0iMPoX2hYEkN9d4I"},staging:{url:"https://www.rayca.st",clientID:"KqAdcGhNfBKiUpfjD3nU3VNgh1t0iMPoX2hYEkN9d4I"},development:{url:"http://localhost:3000",clientID:"rOCD_LhnXFObSLu9v7788qOGu25FZDqEzGjet4Q45ZY"}}[process.env.API_ENV||"production"],E="e69bae0ec90f5e838555",r={},f;function w(){let e=y();if(!e.name)throw new Error("extension name in manifest cannot be empty");return i.join(l(),"extensions",e.name)}function v(){let e=u(f);return e?.startsWith("x")?e==="x"?"com.raycast-x.macos":`com.raycast-x.macos.${e.replace("x-","")}`:e?`com.raycast.macos.${e}`:"com.raycast.macos"}function R(){return`raycast${u(f)}`}function S(e){f=e;try{r=JSON.parse(a.readFileSync(i.join(l(),"config.json"),"utf8"))}catch(t){if(t instanceof Error&&t.code==="ENOENT")return;throw new Error(`Failed to read config file: ${t}`)}}function b(e){switch(e){case"raycastApiURL":return process.env.RAY_APIURL||r.APIURL||d.url;case"raycastAccessToken":return process.env.RAY_TOKEN||r.Token||r.AccessToken||"";case"raycastClientId":return process.env.RAY_CLIENT_ID||r.ClientID||d.clientID;case"githubClientId":return process.env.RAY_GithubClientID||r.GithubClientID||E;case"githubAccessToken":return process.env.GITHUB_ACCESS_TOKEN||r.GithubAccessToken||"";case"flavorName":return process.env.RAY_Target||(typeof r.Target>"u"?u("release"):r.Target)}}function U(e,t){switch(e){case"raycastApiURL":t===void 0?delete r.APIURL:r.APIURL=t;break;case"raycastAccessToken":t===void 0?delete r.Token:r.Token=t,delete r.AccessToken;break;case"raycastClientId":t===void 0?delete r.ClientID:r.ClientID=t;break;case"githubAccessToken":t===void 0?delete r.GithubAccessToken:r.GithubAccessToken=t;break;case"flavorName":t===void 0?delete r.Target:r.Target=t;break}let n=l();a.writeFileSync(i.join(n,"config.json"),JSON.stringify(r,null,"  "),"utf8")}function u(e){switch(e){case"debug":return"debug";case"internal":return"internal";case"release":return"";case"x":return"x";case"x-internal":return"x-internal";case"x-debug":return"x-debug";case void 0:return b("flavorName")}}function G(){let e=u(f);return e==""?"raycast":`raycast-${e}`}function l(){let e=i.join(x.default.homedir(),".config",G());return a.mkdirSync(e,{recursive:!0}),e}0&&(module.exports={API_ENV,extensionBuildDirectory,getConfig,initConfig,raycastAppScheme,raycastBundleID,raycastConfigDirectory,setConfig});
